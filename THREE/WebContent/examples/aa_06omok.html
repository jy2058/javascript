<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js webgl - geometry - cube</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				margin: 0px;
				background-color: #000000;
				overflow: hidden;
			}
		</style>
	</head>
	<body id="my_body">
		<script src="jquery-1.12.4.js"></script>
		<script src="../build/three.js"></script>

		<script>

			var camera, scene, renderer;
			var mesh;
			var mesh1;
			var mesh2;

			var gStoneBlack;
			var texture1;
			var material1;
			
			var gStoneWhite;
			var texture2;
			var material2;
			
			init();
			animate();
			fn_addStone();
			

			function init() {

				camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 1000 );
				camera.position.z = 700;

				scene = new THREE.Scene();


				var gPan = new THREE.PlaneBufferGeometry( 600, 600, 8, 8 );
				var texture = new THREE.TextureLoader().load( 'textures/omok/omokpan.png' );
				var material = new THREE.MeshBasicMaterial( { map: texture } );
				var mesh = new THREE.Mesh( gPan, material );
				
				scene.add( mesh );
				
				gStoneBlack = new THREE.CylinderBufferGeometry( 20, 20, 5, 40, 20 );
				texture1 = new THREE.TextureLoader().load( 'textures/omok/o_b.jpg' );
				material1 = new THREE.MeshBasicMaterial( { map: texture1 } );

				gStoneWhite = new THREE.CylinderBufferGeometry( 20, 20, 5, 40, 20 );
				texture2 = new THREE.TextureLoader().load( 'textures/omok/o_w.jpg' );
				material2 = new THREE.MeshBasicMaterial( { map: texture2 } );
				
				mesh1 = new THREE.Mesh( gStoneBlack, material1 );
				mesh1.rotation.x = Math.PI * 0.5; 
				mesh1.position.x = -270;
				mesh1.position.y = 270;
				mesh1.position.z = 2.5;

				scene.add( mesh1 );
				
				mesh2 = new THREE.Mesh( gStoneWhite, material2 );
				mesh2.rotation.x = Math.PI * 0.5; 
				mesh2.position.x = 270;
				mesh2.position.y = -270;
				mesh2.position.z = 2.5;
				
				scene.add( mesh2 );

				renderer = new THREE.WebGLRenderer( { antialias: true } );
				renderer.setPixelRatio( window.devicePixelRatio );
				renderer.setSize( window.innerWidth, window.innerHeight );
				document.body.appendChild( renderer.domElement );

				//

				window.addEventListener( 'resize', onWindowResize, false );

			}

			function onWindowResize() {

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				renderer.setSize( window.innerWidth, window.innerHeight );

			}

			var index_scene = 0;
			function animate() {
				console.log("index_scene"+index_scene);
				index_scene++;

				requestAnimationFrame( animate );
			/* 	mesh1.rotation.x -= 0.01;
				mesh2.rotation.x -= 0.01; */
				
				//mesh2.position.x = 50;

//				mesh.rotation.x += 0.005;
//				mesh.rotation.y += 0.01;

				renderer.render( scene, camera );
			}
			
			
			
			function fn_addStone(){
				$("#my_body").append("hello<br>hello<br>hello<br>hello<br>hello<br>");
			
/* 				var startX = -270;
				var startY = 270;
				var endX = 270;
				var endY = -270;
				
				var betweenX = (endX - startX) / (10 - 1);
				var betweenY = (endY - startY) / (10 - 1);
				
				for(var i = 0; i < 10; i ++){
					for(var j = 0; j < 10; j++){
						var meshTemp = new THREE.Mesh( gStoneBlack, material1 );
						meshTemp.rotation.x = Math.PI * 0.5; 
						meshTemp.position.x = startX + (j*betweenX);
						meshTemp.position.y = startY + (i*betweenY);
						meshTemp.position.z = 2.5;
						scene.add(meshTemp);
 */
					}
				}
			}

		</script>
	</body>
</html>